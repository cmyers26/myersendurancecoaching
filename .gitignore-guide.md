# .gitignore Guide - Secret Keys Protection

## âœ… What's Now Protected

Your updated `.gitignore` now blocks ALL these file types:

### Environment Variables
- `.env` - Main environment file
- `.env.*` - Any variation (`.env.local`, `.env.production`, etc.)
- âœ… Allows: `.env.example` (template file)

### Secret Keys & Certificates
- `*.key` - Private keys
- `*.pem` - PEM certificates
- `*.p12` - PKCS#12 certificates
- `*.pfx` - Personal Information Exchange files
- `*.cert` - Certificate files
- `*.crt` - Certificate files
- `*.keystore` - Java keystores

### Credentials
- `*secret*` - Any file with "secret" in the name
- `*credentials*` - Any file with "credentials" in the name
- `secrets/` - Entire secrets directory
- `credentials/` - Entire credentials directory

### Other
- `.DS_Store` - macOS metadata
- `node_modules/` - Dependencies
- `/build` - Production builds
- `.vercel` - Vercel config
- `*.log` - All log files

---

## ğŸ§ª Test Your .gitignore

Run these commands to verify:

```bash
cd /Users/chadmyers/Documents/myersendurancecoaching

# Test if .env files are ignored
touch test.env
git check-ignore test.env
# Should output: test.env

# Test if key files are ignored
touch test.key
git check-ignore test.key
# Should output: test.key

# Clean up test files
rm test.env test.key
```

---

## ğŸ“‹ Files That ARE Safe to Commit

### âœ… Public Keys (Safe):
- `pk_test_...` - Stripe Publishable Key
- `pk_live_...` - Stripe Publishable Key
- Stripe Price IDs (like `price_1SnNf3E7DJ6MCdebunBqKGPV`)
- `REACT_APP_SUPABASE_URL`
- `REACT_APP_SUPABASE_ANON_KEY`

### âœ… Template Files (Safe):
- `.env.example`
- `config.example.js`
- Documentation files (`.md`)

---

## âŒ Files That Should NEVER Be Committed

### Secret Keys:
- `sk_test_...` - Stripe Secret Key
- `sk_live_...` - Stripe Secret Key (live)
- `whsec_...` - Webhook Secrets
- `service_role` keys
- Database passwords
- API secrets

### Files:
- `.env` - Environment variables
- `.env.local` - Local overrides
- `.env.production` - Production vars
- `*.key` - Private keys
- `*.pem` - Certificates
- `secrets.json` - Credentials

---

## ğŸ” Check What's Being Tracked

```bash
# List all tracked files
git ls-files

# Check for .env files being tracked
git ls-files | grep -E '\.env'

# Check for secret-type files
git ls-files | grep -E '\.(key|pem|secret|credential)'

# Check if a specific file is ignored
git check-ignore -v filename.env
```

---

## ğŸš¨ If You Accidentally Committed Secrets

### Remove from tracking (keeps local file):
```bash
git rm --cached .env
git rm --cached secrets.key
git commit -m "Remove secrets from tracking"
```

### Remove from git history:
```bash
# Use git-filter-repo (safest)
brew install git-filter-repo
git filter-repo --path .env --invert-paths
git push --force
```

---

## ğŸ“š Quick Reference

| File Type | Example | Safe to Commit? |
|-----------|---------|-----------------|
| `.env` | `.env` | âŒ Never |
| `.env.example` | `.env.example` | âœ… Yes |
| Secret keys | `sk_test_...` | âŒ Never |
| Public keys | `pk_test_...` | âœ… Yes |
| Price IDs | `price_1Sn...` | âœ… Yes |
| `.key` files | `private.key` | âŒ Never |
| Certificates | `cert.pem` | âŒ Never |
| Config files | `config.js` | âš ï¸ Review |

---

## âœ… Current Git Status

Run `git status` and ensure:
- âŒ No `.env` files in "Changes to be committed"
- âŒ No `.key` or `.pem` files listed
- âœ… Only code, documentation, and config files

---

## ğŸ¯ Commit Your Changes

Once verified:

```bash
git add .gitignore
git commit -m "security: Enhance .gitignore to block all secret file types"
git push origin feature/stripe-setup-continued
```

